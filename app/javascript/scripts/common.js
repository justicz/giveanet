(function() {
  // Set referral cookie if there's an r param
  var u = new URL(window.location.href);
  var referralCode = u.searchParams.get("r");
  if (typeof(referralCode) === "string") {
    if (/^[A-Z2-7]{13}$/.test(referralCode)) {
      document.cookie = "referral=" + referralCode;
    }
  }
})();

function submissionButtons(enabled) {
  var buttons = document.getElementsByClassName("submissionbutton");
  for (var i = 0; i < buttons.length; i++) {
    buttons[i].style.opacity = enabled ? "1.0" : "0.5";
    buttons[i].style.pointerEvents = enabled ? "auto" : "none";
  }
}

function pushMessage(table, message) {
  var newRow = document.createElement("tr");
  var msgCol = document.createElement("td");
  newRow.classList.add("noanimate");
  msgCol.setAttribute("colspan", "3");
  msgCol.innerText = message;
  newRow.appendChild(msgCol);
  table.appendChild(newRow);
}

var allCountries = [["Select country (optional)", "none"],["Afghanistan (‫افغانستان‬‎)","af"],["Albania (Shqipëri)","al"],["Algeria (‫الجزائر‬‎)","dz"],["American Samoa","as"],["Andorra","ad"],["Angola","ao"],["Anguilla","ai"],["Antigua and Barbuda","ag"],["Argentina","ar"],["Armenia (Հայաստան)","am"],["Aruba","aw"],["Australia","au"],["Austria (Österreich)","at"],["Azerbaijan (Azərbaycan)","az"],["Bahamas","bs"],["Bahrain (‫البحرين‬‎)","bh"],["Bangladesh (বাংলাদেশ)","bd"],["Barbados","bb"],["Belarus (Беларусь)","by"],["Belgium (België)","be"],["Belize","bz"],["Benin (Bénin)","bj"],["Bermuda","bm"],["Bhutan (འབྲུག)","bt"],["Bolivia","bo"],["Bosnia and Herzegovina (Босна и Херцеговина)","ba"],["Botswana","bw"],["Brazil (Brasil)","br"],["British Indian Ocean Territory","io"],["British Virgin Islands","vg"],["Brunei","bn"],["Bulgaria (България)","bg"],["Burkina Faso","bf"],["Burundi (Uburundi)","bi"],["Cambodia (កម្ពុជា)","kh"],["Cameroon (Cameroun)","cm"],["Canada","ca"],["Cape Verde (Kabu Verdi)","cv"],["Caribbean Netherlands","bq"],["Cayman Islands","ky"],["Central African Republic (République centrafricaine)","cf"],["Chad (Tchad)","td"],["Chile","cl"],["China (中国)","cn"],["Christmas Island","cx"],["Cocos (Keeling) Islands","cc"],["Colombia","co"],["Comoros (‫جزر القمر‬‎)","km"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd"],["Congo (Republic) (Congo-Brazzaville)","cg"],["Cook Islands","ck"],["Costa Rica","cr"],["Côte d’Ivoire","ci"],["Croatia (Hrvatska)","hr"],["Cuba","cu"],["Curaçao","cw"],["Cyprus (Κύπρος)","cy"],["Czech Republic (Česká republika)","cz"],["Denmark (Danmark)","dk"],["Djibouti","dj"],["Dominica","dm"],["Dominican Republic (República Dominicana)","do"],["Ecuador","ec"],["Egypt (‫مصر‬‎)","eg"],["El Salvador","sv"],["Equatorial Guinea (Guinea Ecuatorial)","gq"],["Eritrea","er"],["Estonia (Eesti)","ee"],["Ethiopia","et"],["Falkland Islands (Islas Malvinas)","fk"],["Faroe Islands (Føroyar)","fo"],["Fiji","fj"],["Finland (Suomi)","fi"],["France","fr"],["French Guiana (Guyane française)","gf"],["French Polynesia (Polynésie française)","pf"],["Gabon","ga"],["Gambia","gm"],["Georgia (საქართველო)","ge"],["Germany (Deutschland)","de"],["Ghana (Gaana)","gh"],["Gibraltar","gi"],["Greece (Ελλάδα)","gr"],["Greenland (Kalaallit Nunaat)","gl"],["Grenada","gd"],["Guadeloupe","gp"],["Guam","gu"],["Guatemala","gt"],["Guernsey","gg"],["Guinea (Guinée)","gn"],["Guinea-Bissau (Guiné Bissau)","gw"],["Guyana","gy"],["Haiti","ht"],["Honduras","hn"],["Hong Kong (香港)","hk"],["Hungary (Magyarország)","hu"],["Iceland (Ísland)","is"],["India (भारत)","in"],["Indonesia","id"],["Iran (‫ایران‬‎)","ir"],["Iraq (‫العراق‬‎)","iq"],["Ireland","ie"],["Isle of Man","im"],["Israel (‫ישראל‬‎)","il"],["Italy (Italia)","it"],["Jamaica","jm"],["Japan (日本)","jp"],["Jersey","je"],["Jordan (‫الأردن‬‎)","jo"],["Kazakhstan (Казахстан)","kz"],["Kenya","ke"],["Kiribati","ki"],["Kosovo","xk"],["Kuwait (‫الكويت‬‎)","kw"],["Kyrgyzstan (Кыргызстан)","kg"],["Laos (ລາວ)","la"],["Latvia (Latvija)","lv"],["Lebanon (‫لبنان‬‎)","lb"],["Lesotho","ls"],["Liberia","lr"],["Libya (‫ليبيا‬‎)","ly"],["Liechtenstein","li"],["Lithuania (Lietuva)","lt"],["Luxembourg","lu"],["Macau (澳門)","mo"],["Macedonia (FYROM) (Македонија)","mk"],["Madagascar (Madagasikara)","mg"],["Malawi","mw"],["Malaysia","my"],["Maldives","mv"],["Mali","ml"],["Malta","mt"],["Marshall Islands","mh"],["Martinique","mq"],["Mauritania (‫موريتانيا‬‎)","mr"],["Mauritius (Moris)","mu"],["Mayotte","yt"],["Mexico (México)","mx"],["Micronesia","fm"],["Moldova (Republica Moldova)","md"],["Monaco","mc"],["Mongolia (Монгол)","mn"],["Montenegro (Crna Gora)","me"],["Montserrat","ms"],["Morocco (‫المغرب‬‎)","ma"],["Mozambique (Moçambique)","mz"],["Myanmar (Burma) (မြန်မာ)","mm"],["Namibia (Namibië)","na"],["Nauru","nr"],["Nepal (नेपाल)","np"],["Netherlands (Nederland)","nl"],["New Caledonia (Nouvelle-Calédonie)","nc"],["New Zealand","nz"],["Nicaragua","ni"],["Niger (Nijar)","ne"],["Nigeria","ng"],["Niue","nu"],["Norfolk Island","nf"],["North Korea (조선 민주주의 인민 공화국)","kp"],["Northern Mariana Islands","mp"],["Norway (Norge)","no"],["Oman (‫عُمان‬‎)","om"],["Pakistan (‫پاکستان‬‎)","pk"],["Palau","pw"],["Palestine (‫فلسطين‬‎)","ps"],["Panama (Panamá)","pa"],["Papua New Guinea","pg"],["Paraguay","py"],["Peru (Perú)","pe"],["Philippines","ph"],["Poland (Polska)","pl"],["Portugal","pt"],["Puerto Rico","pr"],["Qatar (‫قطر‬‎)","qa"],["Réunion (La Réunion)","re"],["Romania (România)","ro"],["Russia (Россия)","ru"],["Rwanda","rw"],["Saint Barthélemy","bl"],["Saint Helena","sh"],["Saint Kitts and Nevis","kn"],["Saint Lucia","lc"],["Saint Martin (Saint-Martin (partie française))","mf"],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm"],["Saint Vincent and the Grenadines","vc"],["Samoa","ws"],["San Marino","sm"],["São Tomé and Príncipe (São Tomé e Príncipe)","st"],["Saudi Arabia (‫المملكة العربية السعودية‬‎)","sa"],["Senegal (Sénégal)","sn"],["Serbia (Србија)","rs"],["Seychelles","sc"],["Sierra Leone","sl"],["Singapore","sg"],["Sint Maarten","sx"],["Slovakia (Slovensko)","sk"],["Slovenia (Slovenija)","si"],["Solomon Islands","sb"],["Somalia (Soomaaliya)","so"],["South Africa","za"],["South Korea (대한민국)","kr"],["South Sudan (‫جنوب السودان‬‎)","ss"],["Spain (España)","es"],["Sri Lanka (ශ්‍රී ලංකාව)","lk"],["Sudan (‫السودان‬‎)","sd"],["Suriname","sr"],["Svalbard and Jan Mayen","sj"],["Swaziland","sz"],["Sweden (Sverige)","se"],["Switzerland (Schweiz)","ch"],["Syria (‫سوريا‬‎)","sy"],["Taiwan (台灣)","tw"],["Tajikistan","tj"],["Tanzania","tz"],["Thailand (ไทย)","th"],["Timor-Leste","tl"],["Togo","tg"],["Tokelau","tk"],["Tonga","to"],["Trinidad and Tobago","tt"],["Tunisia (‫تونس‬‎)","tn"],["Turkey (Türkiye)","tr"],["Turkmenistan","tm"],["Turks and Caicos Islands","tc"],["Tuvalu","tv"],["U.S. Virgin Islands","vi"],["Uganda","ug"],["Ukraine (Україна)","ua"],["United Arab Emirates (‫الإمارات العربية المتحدة‬‎)","ae"],["United Kingdom","gb"],["United States","us"],["Uruguay","uy"],["Uzbekistan (Oʻzbekiston)","uz"],["Vanuatu","vu"],["Vatican City (Città del Vaticano)","va"],["Venezuela","ve"],["Vietnam (Việt Nam)","vn"],["Wallis and Futuna (Wallis-et-Futuna)","wf"],["Western Sahara (‫الصحراء الغربية‬‎)","eh"],["Yemen (‫اليمن‬‎)","ye"],["Zambia","zm"],["Zimbabwe","zw"],["Åland Islands","ax"]];
var countryCodes = {};
for (var i = 0; i < allCountries.length; i++) {
  countryCodes[allCountries[i][1]] = allCountries[i][0];
}
